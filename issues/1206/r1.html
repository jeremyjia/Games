<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>3D Cube on Canvas with Rotating Axes and Settings</title>
</head>

<body class="flex justify-center items-center h-screen m-0 bg-gray-100">
    <script>
        class Cube3D {
            constructor() {
                // ÂàõÂª∫ÁîªÂ∏É
                this.canvas = document.createElement('canvas');
                this.canvas.id = 'cubeCanvas';
                this.canvas.classList.add('border', 'border-gray-300');
                this.canvas.width = 400;
                this.canvas.height = 400;
                this.ctx = this.canvas.getContext('2d');

                // ÂàõÂª∫Â∑•ÂÖ∑Ê†è
                this.toolbar = document.createElement('div');
                this.toolbar.classList.add('fixed', 'bottom-0', 'left-0', 'w-full', 'bg-gray-800', 'text-white', 'flex', 'justify-center', 'items-center', 'p-2');
                this.settingsButton = document.createElement('button');
                this.settingsButton.id = 'settingsButton';
                this.settingsButton.textContent = 'ÊâìÂºÄËÆæÁΩÆ';
                this.toolbar.appendChild(this.settingsButton);

                // ÂàõÂª∫ËÆæÁΩÆÁ™óÂè£
                this.settingsWindow = document.createElement('div');
                this.settingsWindow.classList.add('absolute', 'bg-white', 'border', 'border-gray-300', 'shadow-md', 'hidden');
                this.settingsWindow.id = 'settingsWindow';

                this.settingsHeader = document.createElement('div');
                this.settingsHeader.classList.add('p-2', 'bg-gray-200', 'cursor-move');
                this.settingsHeader.id = 'settingsHeader';
                this.settingsHeader.textContent = 'ËÆæÁΩÆ';
                this.settingsWindow.appendChild(this.settingsHeader);

                this.closeButton = document.createElement('span');
                this.closeButton.classList.add('absolute', 'top-1', 'right-2', 'cursor-pointer');
                this.closeButton.id = 'closeButton';
                this.closeButton.textContent = '√ó';
                this.settingsWindow.appendChild(this.closeButton);

                const settingsContent = document.createElement('div');
                settingsContent.classList.add('p-2');

                this.rotationSwitchLabel = document.createElement('label');
                this.rotationSwitchLabel.classList.add('relative', 'inline-block', 'w-14', 'h-7');
                this.rotationSwitch = document.createElement('input');
                this.rotationSwitch.type = 'checkbox';
                this.rotationSwitch.id = 'rotationSwitch';
                const slider = document.createElement('span');
                slider.classList.add('absolute', 'inset-0', 'bg-gray-300', 'rounded-full', 'cursor-pointer', 'transition', 'duration-300');
                const sliderCircle = document.createElement('span');
                sliderCircle.classList.add('absolute', 'w-6', 'h-6', 'bg-white', 'rounded-full', 'top-1', 'left-1', 'transition', 'duration-300');
                slider.appendChild(sliderCircle);
                this.rotationSwitchLabel.appendChild(this.rotationSwitch);
                this.rotationSwitchLabel.appendChild(slider);
                settingsContent.appendChild(this.rotationSwitchLabel);

                const rotationSwitchText = document.createElement('span');
                rotationSwitchText.textContent = 'ÂºÄÂêØÊóãËΩ¨';
                settingsContent.appendChild(rotationSwitchText);

                this.resetButton = document.createElement('button');
                this.resetButton.classList.add('bg-blue-500', 'text-white', 'px-4', 'py-2', 'rounded-md', 'cursor-pointer', 'ml-2', 'hover:bg-blue-600');
                this.resetButton.id = 'resetButton';
                this.resetButton.textContent = 'ÈáçÁΩÆÂùêÊ†á‰ΩìÁ≥ª';
                settingsContent.appendChild(this.resetButton);

                this.rotationAngleInput = document.createElement('input');
                this.rotationAngleInput.classList.add('px-2', 'py-1', 'border', 'border-gray-300', 'rounded-md', 'ml-2');
                this.rotationAngleInput.id = 'rotationAngleInput';
                this.rotationAngleInput.type = 'number';
                this.rotationAngleInput.value = 45;
                this.rotationAngleInput.placeholder = 'ÊóãËΩ¨ËßíÂ∫¶';
                settingsContent.appendChild(this.rotationAngleInput);

                this.rotateXButton = document.createElement('button');
                this.rotateXButton.classList.add('bg-blue-500', 'text-white', 'px-4', 'py-2', 'rounded-md', 'cursor-pointer', 'ml-2', 'hover:bg-blue-600');
                this.rotateXButton.id = 'rotateXButton';
                this.rotateXButton.textContent = 'Áªï X ËΩ¥ÊóãËΩ¨';
                settingsContent.appendChild(this.rotateXButton);

                this.rotateYButton = document.createElement('button');
                this.rotateYButton.classList.add('bg-blue-500', 'text-white', 'px-4', 'py-2', 'rounded-md', 'cursor-pointer', 'ml-2', 'hover:bg-blue-600');
                this.rotateYButton.id = 'rotateYButton';
                this.rotateYButton.textContent = 'Áªï Y ËΩ¥ÊóãËΩ¨';
                settingsContent.appendChild(this.rotateYButton);

                this.rotateZButton = document.createElement('button');
                this.rotateZButton.classList.add('bg-blue-500', 'text-white', 'px-4', 'py-2', 'rounded-md', 'cursor-pointer', 'ml-2', 'hover:bg-blue-600');
                this.rotateZButton.id = 'rotateZButton';
                this.rotateZButton.textContent = 'Áªï Z ËΩ¥ÊóãËΩ¨';
                settingsContent.appendChild(this.rotateZButton);

                this.settingsWindow.appendChild(settingsContent);

                // Â∞ÜÂÖÉÁ¥†Ê∑ªÂä†Âà∞È°µÈù¢
                document.body.appendChild(this.canvas);
                document.body.appendChild(this.toolbar);
                document.body.appendChild(this.settingsWindow);

                // ÂÆö‰πâÁ´ãÊñπ‰ΩìÁöÑÈ°∂ÁÇπ
                this.vertices = [
                    [-1, -1, -1],
                    [1, -1, -1],
                    [1, 1, -1],
                    [-1, 1, -1],
                    [-1, -1, 1],
                    [1, -1, 1],
                    [1, 1, 1],
                    [-1, 1, 1]
                ];

                // ÂÆö‰πâÁ´ãÊñπ‰ΩìÁöÑÈù¢
                this.faces = [
                    [0, 1, 2, 3],
                    [1, 5, 6, 2],
                    [5, 4, 7, 6],
                    [4, 0, 3, 7],
                    [3, 2, 6, 7],
                    [4, 5, 1, 0]
                ];

                // ÂÆö‰πâÂùêÊ†áËΩ¥ÁöÑÈ°∂ÁÇπ
                this.axisLength = 2;
                this.axesVertices = [
                    [0, 0, 0],
                    [this.axisLength, 0, 0],
                    [0, this.axisLength, 0],
                    [0, 0, this.axisLength]
                ];

                this.prevX = 0;
                this.prevY = 0;
                this.rotationX = 0;
                this.rotationY = 45 * (Math.PI / 180);
                this.rotationZ = 0;
                this.isRotationEnabled = false;
                this.rotationInterval = null;

                this.initEventListeners();
                this.draw();
            }

            // ÊäïÂΩ±ÂáΩÊï∞
            project(point) {
                const d = 5;
                const factor = d / (d + point[2]);
                return [point[0] * factor, point[1] * factor];
            }

            // ÊóãËΩ¨ÂáΩÊï∞
            rotateX(vertices, angle) {
                const cos = Math.cos(angle);
                const sin = Math.sin(angle);
                return vertices.map(([x, y, z]) => [
                    x,
                    y * cos - z * sin,
                    y * sin + z * cos
                ]);
            }

            rotateY(vertices, angle) {
                const cos = Math.cos(angle);
                const sin = Math.sin(angle);
                return vertices.map(([x, y, z]) => [
                    x * cos + z * sin,
                    y,
                    -x * sin + z * cos
                ]);
            }

            rotateZ(vertices, angle) {
                const cos = Math.cos(angle);
                const sin = Math.sin(angle);
                return vertices.map(([x, y, z]) => [
                    x * cos - y * sin,
                    x * sin + y * cos,
                    z
                ]);
            }

            // ÁªòÂà∂ÁÆ≠Â§¥ÂáΩÊï∞
            drawArrow(fromX, fromY, toX, toY, color) {
                this.ctx.beginPath();
                this.ctx.moveTo(fromX, fromY);
                this.ctx.lineTo(toX, toY);
                this.ctx.strokeStyle = color;
                this.ctx.stroke();

                const headLength = 10;
                const angle = Math.atan2(toY - fromY, toX - fromX);
                this.ctx.beginPath();
                this.ctx.moveTo(toX, toY);
                this.ctx.lineTo(toX - headLength * Math.cos(angle - Math.PI / 6), toY - headLength * Math.sin(angle - Math.PI / 6));
                this.ctx.lineTo(toX - headLength * Math.cos(angle + Math.PI / 6), toY - headLength * Math.sin(angle + Math.PI / 6));
                this.ctx.closePath();
                this.ctx.fillStyle = color;
                this.ctx.fill();
            }

            // ÁªòÂà∂Á´ãÊñπ‰Ωì
            draw() {
                let rotatedVertices = this.rotateX(this.vertices, this.rotationX);
                rotatedVertices = this.rotateY(rotatedVertices, this.rotationY);
                rotatedVertices = this.rotateZ(rotatedVertices, this.rotationZ);

                let rotatedAxesVertices = this.rotateX(this.axesVertices, this.rotationX);
                rotatedAxesVertices = this.rotateY(rotatedAxesVertices, this.rotationY);
                rotatedAxesVertices = this.rotateZ(rotatedAxesVertices, this.rotationZ);

                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                this.ctx.translate(this.canvas.width / 2, this.canvas.height / 2);

                // ÁªòÂà∂Èù¢
                for (let i = 0; i < this.faces.length; i++) {
                    const face = this.faces[i];
                    this.ctx.beginPath();
                    for (let j = 0; j < face.length; j++) {
                        const vertex = rotatedVertices[face[j]];
                        const projected = this.project(vertex);
                        if (j === 0) {
                            this.ctx.moveTo(projected[0] * 100, projected[1] * 100);
                        } else {
                            this.ctx.lineTo(projected[0] * 100, projected[1] * 100);
                        }
                    }
                    this.ctx.closePath();
                    this.ctx.strokeStyle = 'black';
                    this.ctx.stroke();
                }

                // ÁªòÂà∂ÂùêÊ†áËΩ¥
                const axisColors = ['red', 'green', 'blue'];
                const axisLabels = ['X', 'Y', 'Z'];
                for (let i = 1; i < rotatedAxesVertices.length; i++) {
                    const start = rotatedAxesVertices[0];
                    const end = rotatedAxesVertices[i];
                    const startProjected = this.project(start);
                    const endProjected = this.project(end);

                    this.drawArrow(startProjected[0] * 100, startProjected[1] * 100, endProjected[0] * 100, endProjected[1] * 100, axisColors[i - 1]);

                    this.ctx.font = '14px Arial';
                    this.ctx.fillStyle = axisColors[i - 1];
                    this.ctx.fillText(axisLabels[i - 1], endProjected[0] * 100 + 5, endProjected[1] * 100 + 5);
                }

                this.ctx.translate(-this.canvas.width / 2, -this.canvas.height / 2);
            }

            // ÂàùÂßãÂåñ‰∫ã‰ª∂ÁõëÂê¨Âô®
            initEventListeners() {
                this.settingsButton.addEventListener('click', () => {
                    this.settingsWindow.style.display = 'block';
                });

                this.closeButton.addEventListener('click', () => {
                    this.settingsWindow.style.display = 'none';
                });

                this.rotationSwitch.addEventListener('change', () => {
                    this.isRotationEnabled = this.rotationSwitch.checked;
                });

                this.canvas.addEventListener('mousemove', (e) => {
                    if (this.isRotationEnabled) {
                        const dx = e.clientX - this.prevX;
                        const dy = e.clientY - this.prevY;
                        const rotationSpeed = 0.01;

                        this.rotationX += dy * rotationSpeed;
                        this.rotationY += dx * rotationSpeed;

                        this.draw();

                        this.prevX = e.clientX;
                        this.prevY = e.clientY;
                    }
                });

                // ‰ΩøËÆæÁΩÆÁ™óÂè£Âè™ÊúâÂ§¥ÈÉ®ÂèØÁßªÂä®
                let isDragging = false;
                let offsetX, offsetY;

                this.settingsHeader.addEventListener('mousedown', (e) => {
                    isDragging = true;
                    offsetX = e.clientX - this.settingsWindow.getBoundingClientRect().left;
                    offsetY = e.clientY - this.settingsWindow.getBoundingClientRect().top;
                });

                document.addEventListener('mousemove', (e) => {
                    if (isDragging) {
                        this.settingsWindow.style.left = (e.clientX - offsetX) + 'px';
                        this.settingsWindow.style.top = (e.clientY - offsetY) + 'px';
                    }
                });

                document.addEventListener('mouseup', () => {
                    isDragging = false;
                });

                // ÈáçÁΩÆÂùêÊ†á‰ΩìÁ≥ª
                this.resetButton.addEventListener('click', () => {
                    this.rotationX = 0;
                    this.rotationY = 45 * (Math.PI / 180);
                    this.rotationZ = 0;
                    this.draw();
                });

                const startRotation = (axis) => {
                    const angle = parseInt(this.rotationAngleInput.value) * (Math.PI / 180);
                    this.rotationInterval = setInterval(() => {
                        if (axis === 'x') {
                            this.rotationX += angle;
                        } else if (axis === 'y') {
                            this.rotationY += angle;
                        } else if (axis === 'z') {
                            this.rotationZ += angle;
                        }
                        this.draw();
                    }, 100);
                };

                const stopRotation = () => {
                    clearInterval(this.rotationInterval);
                    this.rotationInterval = null;
                };

                // Áªï X ËΩ¥ÊóãËΩ¨
                this.rotateXButton.addEventListener('mousedown', () => {
                    startRotation('x');
                });
                this.rotateXButton.addEventListener('mouseup', stopRotation);
                this.rotateXButton.addEventListener('mouseout', stopRotation);

                // Áªï Y ËΩ¥ÊóãËΩ¨
                this.rotateYButton.addEventListener('mousedown', () => {
                    startRotation('y');
                });
                this.rotateYButton.addEventListener('mouseup', stopRotation);
                this.rotateYButton.addEventListener('mouseout', stopRotation);

                // Áªï Z ËΩ¥ÊóãËΩ¨
                this.rotateZButton.addEventListener('mousedown', () => {
                    startRotation('z');
                });
                this.rotateZButton.addEventListener('mouseup', stopRotation);
                this.rotateZButton.addEventListener('mouseout', stopRotation);
            }
        }

        // ÂàõÂª∫ Cube3D ÂÆû‰æã
        const cube = new Cube3D();
    </script>
</body>

</html>    
<!--
Â∏ÆÊàëÁîüÊàê‰∏ÄÊÆµÊèêÁ§∫ËØ≠ÔºåËæìÂÖ•Âà∞AIÁ®ãÂ∫è‰ª•ÂêéÂèØ‰ª•ÁîüÊàê‰∏äÈù¢‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑÁ®ãÂ∫è„ÄÇ
------------------------------------------------------------

ÂºÄÂèëÈúÄÊ±ÇÔºöÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´‰ª•‰∏ãÂäüËÉΩÁöÑ‰∫§‰∫íÂºè3DÁ´ãÊñπ‰ΩìÊºîÁ§∫Á®ãÂ∫è

Ê†∏ÂøÉË¶ÅÊ±ÇÔºö

‰ΩøÁî®Á∫ØHTML5 CanvasÂÆûÁé∞3DÊ∏≤Êüì

ÂåÖÂê´ÂÆåÊï¥ÁöÑÂùêÊ†áÁ≥ªÂèØËßÜÂåñÔºàXYZËΩ¥Ôºâ

ÂÆûÁé∞Èº†Ê†á‰∫§‰∫í‰∏éÂèÇÊï∞ÂåñÊéßÂà∂ÁªìÂêàÁöÑÊóãËΩ¨Á≥ªÁªü

ÈõÜÊàêÂèØÊãñÊãΩÁöÑËÆæÁΩÆÈù¢Êùø

ÂÖ∑‰ΩìÂäüËÉΩÊ®°ÂùóÔºö

üñº ËßÜËßâÂëàÁé∞

ÁªòÂà∂ÂÖ∑ÊúâÈÄèËßÜÊäïÂΩ±ÁöÑÁ´ãÊñπ‰ΩìÔºàËæπÈïø2Âçï‰ΩçÔºâ

ÊòæÁ§∫‰∏âËâ≤ÂùêÊ†áÁ≥ªÔºàÁ∫¢X/ÁªøY/ËìùZÔºâÔºåÂ∏¶ÁÆ≠Â§¥ÂíåÊ†áÁ≠æ

ÂÆûÁé∞Á´ãÊñπ‰ΩìÈù¢Á∫øÊ°ÜÊ∏≤ÊüìÔºà6‰∏™Èù¢ÈªëËâ≤ËæπÊ°ÜÔºâ

‰øùÊåÅ45Â∫¶ÂàùÂßãYËΩ¥ËßÜËßí

üïπ ‰∫§‰∫íÁ≥ªÁªü

ÊãñÊãΩÊóãËΩ¨Ôºö

Èº†Ê†áÊãñÊãΩÊó∂Ê†πÊçÆÁßªÂä®ÈáèËÆ°ÁÆóX/YËΩ¥ÊóãËΩ¨

ÊóãËΩ¨ÈÄüÂ∫¶Á≥ªÊï∞0.01

ÂêØÁî®/Á¶ÅÁî®ÊóãËΩ¨ÁöÑÂàáÊç¢ÂºÄÂÖ≥

ÊåâÈíÆÊéßÂà∂Ôºö

ÁªïX/Y/ZËΩ¥ÊåâÊåáÂÆöËßíÂ∫¶Ê≠•ËøõÊóãËΩ¨ÔºàËßíÂ∫¶ËæìÂÖ•Ê°ÜÔºâ

ÊîØÊåÅÊåâ‰ΩèÊåâÈíÆÊåÅÁª≠ÊóãËΩ¨

ÈáçÁΩÆËßÜËßíÂäüËÉΩ

‚öô ËÆæÁΩÆÈù¢Êùø

ÂèØÊãñÊãΩÁ™óÂè£Ôºà‰ªÖÈôêÊ†áÈ¢òÊ†èÊãñÂä®Ôºâ

ÂåÖÂê´‰ª•‰∏ãÊéß‰ª∂Ôºö

ÊóãËΩ¨ÂêØÁî®ÂºÄÂÖ≥ÔºàÊªëÂä®Ê†∑ÂºèÔºâ

ËßíÂ∫¶ËæìÂÖ•Ê°ÜÔºàÂ∫¶Êï∞Ôºâ

XYZËΩ¥ÊóãËΩ¨ÊåâÈíÆÁªÑ

ÈáçÁΩÆÊåâÈíÆ

ÂºÄÂêàÂä®ÁîªÔºàÊ∏êÊòæ/ÊªëÂä®ÊïàÊûúÔºâ

ÂÖ≥Èó≠ÊåâÈíÆÔºà√óÂõæÊ†áÔºâ

üìê ÊäÄÊúØËßÑËåÉ

Êï∞Â≠¶ÂÆûÁé∞Ôºö

‰∏âÁª¥ÊóãËΩ¨Áü©ÈòµËøêÁÆó

ÈÄèËßÜÊäïÂΩ±ÂÖ¨ÂºèÔºàd=5Ôºâ

ÂºßÂ∫¶/ËßíÂ∫¶ËΩ¨Êç¢

ÂùêÊ†áÁ≥ªÔºö

ËΩ¥ÈïøÂ∫¶2Âçï‰Ωç

ÁÆ≠Â§¥‰ΩøÁî®‰∏âËßíÈî•ÁªòÂà∂

ÂìçÂ∫îÂºèÂ∏ÉÂ±ÄÔºö

‰∏ªÁîªÂ∏É400x400Â±Ö‰∏≠

Â∑•ÂÖ∑Ê†èÂ∫ïÈÉ®Âõ∫ÂÆö

ËÆæÁΩÆÈù¢ÊùøÂàùÂßãÈöêËóè

üé® Ê†∑ÂºèË¶ÅÊ±Ç

‰ΩøÁî®Tailwind CSSÁ±ªÔºö

ÁîªÂ∏ÉÁÅ∞Ëâ≤ËæπÊ°Ü

Ê∑±ÁÅ∞Â∫ïÂ∑•ÂÖ∑Ê†è

ÁôΩËâ≤ËÆæÁΩÆÈù¢ÊùøÂ∏¶Èò¥ÂΩ±

ËìùËâ≤Á≥ªÊåâÈíÆÊ†∑Âºè

Â≠ó‰ΩìÔºö

ÂùêÊ†áÊ†áÁ≠æ14px Arial

ÊåâÈíÆÊñáÊú¨Ê†áÂáÜÂ≠ó‰Ωì

È¢ÑÊúüËæìÂá∫Ôºö
ÂçïHTMLÊñá‰ª∂ÔºåÂåÖÂê´ÂÆåÊï¥CSS/JSÂÆûÁé∞ÔºåÊó†Â§ñÈÉ®‰æùËµñÔºàÈô§Tailwind CDNÔºâ
ËøîÂõûÂÆåÊï¥ÂèØËøêË°å‰ª£Á†Å
-->