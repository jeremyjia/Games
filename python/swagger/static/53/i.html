<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Benny's List</title>

    <!-- This 3rd-party stylesheet makes available the font families to be used for this page ("Roboto" and "Roboto Slab"). -->
    <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Slab:100" rel="stylesheet">

    <!-- This 3rd-party stylesheet incorporates SVG icons from Font Awesome: http://fontawesome.com/ -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" crossorigin="anonymous">

    <link rel="stylesheet" href="style.css">

    <script src="index.js" charset="utf-8" defer></script>

  </head>
  <body>

    <header>

      <div class="header-image-container">
        <img src="benny.jpg" alt="Benny logo">
      </div>

      <h1 id="demo" class="site-title"><a href="#">Benny's Wonderland List</a></h1>
      

    </header>

    <main class="content">
      <aside class="filter-container">

        <h2>Filters</h2>

        <div class="filter-input-container">
          <label for="filter-text" class="filter-input-label">Text</label>
          <div class="filter-input-element">
            <input type="text" name="filter-text" id="filter-text" class="filter-input">
          </div>
        </div>

        <div class="filter-input-container">
          <label for="filter-min-price" class="filter-input-label">Price</label>
          <div class="filter-input-element">
            <input type="text" name="filter-min-price" id="filter-min-price" class="filter-input" placeholder="min">
          </div>
          <div class="filter-input-element">
            <input type="text" name="filter-max-price" id="filter-max-price" class="filter-input" placeholder="max">
          </div>
        </div>

        <div class="filter-input-container">
          <label for="filter-city">City</label>
          <div class="filter-input-element">
            <select id="filter-city" class="filter-input" name="filter-city">
              <option selected value="">Any</option>
              <option>Corvallis</option>
              <option>Albany</option>
              <option>Eugene</option>
              <option>Portland</option>
              <option>Salem</option>
              <option>Bend</option>
            </select>
          </div>
        </div>

        <div class="filter-input-container">
          <fieldset id="filter-condition" class="filter-fieldset">
            <legend>Condition</legend>
            <div>
              <input type="checkbox" name="filter-condition" id="filter-condition-new" value="new">
              <label for="filter-condition-new">New</label>
            </div>
            <div>
              <input type="checkbox" name="filter-condition" id="filter-condition-excellent" value="excellent">
              <label for="filter-condition-excellent">Excellent</label>
            </div>
            <div>
              <input type="checkbox" name="filter-condition" id="filter-condition-good" value="good">
              <label for="filter-condition-good">Good</label>
            </div>
            <div>
              <input type="checkbox" name="filter-condition" id="filter-condition-fair" value="fair">
              <label for="filter-condition-fair">Fair</label>
            </div>
            <div>
              <input type="checkbox" name="filter-condition" id="filter-condition-poor" value="poor">
              <label for="filter-condition-poor">Poor</label>
            </div>
          </fieldset>
        </div>

        <button id="filter-update-button" class="action-button" onclick='document.getElementById("demo").innerHTML = no'>Update</button>
        <button class="action-button" type='button' 
        onclick='
                  var xhttp = new XMLHttpRequest();//waynex
                  xhttp.open("GET", "http://localhost:5000/request", false);
                  xhttp.send();
                  var o = JSON.parse(xhttp.responseText);
                  //document.getElementById("demo_book1").innerHTML = json_object.length; 
                  var s = ""; 
                  for (i in o){s += o[i].title + "; "}
                  var list = s.split(";");
                  for (let a = 0; a < 8; a++){ document.getElementById("book_title"+a).innerHTML = list[a];}
                  '>Request Books
        </button>
        <button id="filter-update-button" class="action-button" 
        onclick='loadDoc();      
                                
                 '>New UI        
        </button>
        
      </aside> 
      <section id="posts"> 
        <h1 id="demo_book" class="model-body">Benny Wonderland List</h1>";
        for (n = 0; n < k; n++){
        s += "<div class="post-info-container" id="book_title"
        s += n + ></div>"
        s += "<div class="post-info-container" id="book_price"
        s += n + ></div>"
        s += "<div class="post-info-container\" id="book_pic"
        s += n + ></div>"
        }
        docment.getElementById("posts").innerHTML = s; 
      </section>     

    </main>

    <button type="button" id="sell-something-button"><i class="fas fa-plus"></i></button>

    <div id="modal-backdrop" class="hidden"></div>
    <div id="sell-something-modal" class="hidden">
      <div class="modal-dialog">

        <div class="modal-header">
          <h3>Sell something on Benny's List</h3>
          <button type="button" id="modal-close" class="modal-hide-button">&times;</button>
        </div>

        <div class="modal-body">

          <div class="post-input-element">
            <label for="post-text-input">Item description</label>
            <input type="text" id="post-text-input"></input>
          </div>

          <div class="post-input-element">
            <label for="post-photo-input">Photo URL</label>
            <input type="text" id="post-photo-input">
          </div>

          <div class="post-input-element">
            <label for="post-price-input">Selling price ($)</label>
            <input type="number" id="post-price-input">
          </div>

          <div class="post-input-element">
            <label for="post-city-input">City</label>
            <input type="text" id="post-city-input">
          </div>

          <div class="post-input-element">
            <fieldset id="post-condition-fieldset" class="post-fieldset">
              <legend>Condition</legend>
              <div>
                <input type="radio" name="post-condition" id="post-condition-new" value="new" checked>
                <label for="post-condition-new">New</label>
              </div>
              <div>
                <input type="radio" name="post-condition" id="post-condition-excellent" value="excellent">
                <label for="post-condition-excellent">Excellent</label>
              </div>
              <div>
                <input type="radio" name="post-condition" id="post-condition-good" value="good">
                <label for="post-condition-good">Good</label>
              </div>
              <div>
                <input type="radio" name="post-condition" id="post-condition-fair" value="fair">
                <label for="post-condition-fair">Fair</label>
              </div>
              <div>
                <input type="radio" name="post-condition" id="post-condition-poor" value="poor">
                <label for="post-condition-poor">Poor</label>
              </div>
            </fieldset>
          </div>

        </div>

        <div class="modal-footer">
          <button type="button" id="modal-cancel" class="modal-hide-button action-button">Cancel</button>
          <button type="button" id="modal-accept" class="action-button">Create Post</button>
        </div>

      </div>
    </div>
    <script>
      function loadDoc() {
        const xhttp = new XMLHttpRequest();
        xhttp.onload = function() {
          document.getElementById("posts").innerHTML = this.responseText;
        }
        xhttp.open("GET", "http://localhost:5000/request");
        xhttp.send();
      }
      </script>
  </body>
</html>
